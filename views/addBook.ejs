<!DOCTYPE html>
<html lang="en" class="bg-gray-900 text-gray-100">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Book</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen flex flex-col items-center py-10">

    <!-- Upper Half - Add Book Form -->
    <div class="w-full max-w-4xl bg-gray-800 rounded-xl shadow-lg p-6 mb-12">
        <h2 class="relative text-3xl font-extrabold tracking-wide text-center mb-8">
            <span class="bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
                Add a New Book
            </span>
            <span
                class="absolute left-1/2 -bottom-2 w-24 h-1 bg-gradient-to-r from-indigo-500 to-pink-500 rounded-full transform -translate-x-1/2"></span>
        </h2>

        <form action="/books/add" method="POST" class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Title -->
            <div>
                <label class="block mb-2 font-semibold">Title</label>
                <input type="text" name="title" required
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- Author -->
            <div>
                <label class="block mb-2 font-semibold">Author</label>
                <input type="text" name="author" required
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- ISBN -->
            <div>
                <label class="block mb-2 font-semibold">ISBN</label>
                <input type="text" name="isbn"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- OLID -->
            <div>
                <label class="block mb-2 font-semibold">OLID</label>
                <input type="text" name="olid"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- Cover URL -->
            <div>
                <label class="block mb-2 font-semibold">Cover URL</label>
                <input type="url" name="cover_url"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- Date Read -->
            <div>
                <label class="block mb-2 font-semibold">Date Read</label>
                <input type="date" name="date_read"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- Rating -->
            <div>
                <label class="block mb-2 font-semibold">Rating (1-5)</label>
                <input type="number" name="rating" min="1" max="5"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none">
            </div>

            <!-- Progress Status -->
            <div class="md:col-span-2">
                <label class="block mb-2 font-semibold">Progress Status</label>
                <div class="flex gap-6">
                    <label class="flex items-center gap-2">
                        <input type="radio" name="progress_status" value="Completed" required
                            class="text-indigo-500 focus:ring-indigo-500">
                        Completed
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="radio" name="progress_status" value="Currently Reading"
                            class="text-indigo-500 focus:ring-indigo-500">
                        Currently Reading
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="radio" name="progress_status" value="Want to Read"
                            class="text-indigo-500 focus:ring-indigo-500">
                        Want to Read
                    </label>
                </div>
            </div>

            <!-- Review -->
            <div class="md:col-span-2">
                <label class="block mb-2 font-semibold">Review</label>
                <textarea name="review" rows="4"
                    class="w-full px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none"></textarea>
            </div>

            <!-- Submit -->
            <div class="md:col-span-2 flex justify-end">
                <button type="submit"
                    class="px-6 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-lg shadow-md font-semibold transition">
                    Add Book
                </button>
            </div>
        </form>
    </div>

    <!-- Lower Half - Recently Added Books -->
    <div class="w-full max-w-4xl">
        <h2 class="text-xl font-bold mb-4 border-b border-gray-700 pb-2">Recently Added Books</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <% books.forEach(book=> { %>
                <div class="bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:scale-105 transition">
                    <img src="<%= book.cover_url || 'https://via.placeholder.com/150x220?text=No+Cover' %>"
                        alt="<%= book.title %>" class="w-full h-64 object-cover">
                    <div class="p-4">
                        <h3 class="text-lg font-semibold mb-1"><%= book.title %></h3>
                        <p class="text-sm text-gray-400 mb-2"><%= book.author %></p>
                        <p class="text-yellow-400">‚≠ê <%= book.rating || 'N/A' %></p>
                        <p class="mt-2 text-sm text-indigo-400 font-medium">
                            <%= book.progress_status || 'No status' %>
                        </p>
                    </div>
                </div>
            <% }) %>
        </div>
    </div>

</body>

</html>
